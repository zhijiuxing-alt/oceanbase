数据库对象命名规则 
==============================



数据库对象标识符 
--------------------

每个数据库对象都有名字。在 SQL 语句中您可以使用引用标识符和非引用标识符来命名任何数据库对象：

* 引用标识符：以双引号 `" "` 为开头和结尾的标识符。如果使用引用标识符命名 Schema 对象，则在引用该对象时必须使用双引号。

  

* 非引用标识符：标识符中不包含任何标点符号。

  




但是，数据库名称、全局数据库名称、数据库链接名称、磁盘组名称和可插入数据库（PDB）始终不区分大小写，并以大写形式存储。如果使用引用标识符为它们命名，那么引号将被忽略。
**注意**



OceanBase 并不建议您使用引用标识符来命名数据库对象。这些引用标识符在 SQL PLUS 中兼容，但是在其他数据库对象管理工具中可能不被识别。

标识符使用规则 
-------------------

以下是一些适用于引用标识符和非引用标识符的规则，除非另有说明，否则以下规则对引用标识符和非引用标识符同时适用。

### 标识符的长度 

标识符的长度为 1\~128 字节。

如果标识符包含由句点分隔的多个部分，则每个部分最长都可达 128 字节。每个句点分隔符以及旁边的引号都算作一个字节。例如以下字符串:

```javascript
"schema"."table"."column"
```



示例名称中的三部分 **schema** 、 **table** 和 **column** 各自最长可以是 128 字节，每个引号和句点都是单字节字符，所以示例中标识符的总长度为 392 字节。

### 保留字做标识符 

非引用标识符不能是 OceanBase SQL 保留字。引用标识符可以是保留字，但不建议这样做。根据您计划用于访问数据库对象的工具不同，名称可能进一步受到其他产品特定的保留字限制。
**注意**



保留字 `ROWID` 是这个规则的一个例外。不能使用大写单词 `ROWID` 作为列的名称，无论是带引号的还是不带引号的。但是，引用标识符作为列名时，不可以使用全大写单词，但是可以包含一个或多个小写字母（例如，"Rowid"或"Rowid"）。

### 特殊含义单词做标识符 

OceanBase 中的 SQL 语言包含了其他具有特殊含义的单词。这些词包括数据类型、Schema 名、函数名、虚拟系统表 `DUAL` 和关键字（SQL 语句中的大写单词，如 `DIMENSION`、`SEGMENT`、`ALLOCATE`、`DISABLE` 等）。这些词不是保留字，但是，OceanBase 在内部以特定的方式使用它们。因此，如果您使用这些词作为对象和对象部件的名称，SQL 语句可能会难以阅读，并可能导致不可预测的结果。尤其是不要使用 SQL 内置函数的名称作为 Schema 对象和用户自定义函数的名称。

### ASCII 字符做标识符 

在数据库名称、全局数据库名称和数据库链接名称中您应该使用 ASCII 字符集中的字符，因为这些字符拥有跨不同平台和操作系统的最佳兼容性。多租户容器数据库（CDB）中的通用用户和通用角色的名称只能使用 ASCII 字符集中的字符。

### 密码中的字符 

密码中可以包含多位字节的字符，如汉字或中文标点等。

### 标识符的开头 

非引用标识符必须以数据库字符集中的字母字符开头。引用标识符可以以任何字符开头。

### 标识符中的符号 

非引用标识符只能包含来自数据库字符集的字母数字字符和下划线（_）。但是用于数据库链接名称时可以包含句点（.）和符号 @。引用标识符可以包含任何字符、标点符号和空格。但是，引用标识符和非引用标识符都不能包含双引号或空字符（\\0）。

### 对象名称在名称空间中的限制 

在同一个名称空间中，表、视图、私有同义词不能拥有相同的名称。

### 标识符的大小写 

非引用标识符不区分大小写，OceanBase 将他们存储为大写。引用标识符区分大小写，所以通过将名称括在双引号里，在同一命名空间的不同对象可以拥有以下类型的名称：

```javascript
"employees"
"Employees"
"EMPLOYEES"
```



由于非引用标识符不区分大小写，所以 OceanBase 认为以下名称是相同的，他们不能作为同一名称空间下不同对象的名字：

```javascript
employees
EMPLOYEES
"EMPLOYEES"
```



### 大写标识符 

存储或比较大写的标识符时，每个字符的大写形式是通过应用数据库字符集的大写规则来确定的。由对话设置 `NLS_SORT` 所设定的特定语言规则不在考虑的范围内。此行为是将 SQL 函数 `UPPER` 应用于标识符，而不是将函数 `NLS_UPPER` 应用于标识符。

数据库字符集的大写规则被应用到自然语言时可能产生不正确的结果。例如，德国小写字母 `ß`，它在数据库字符集大写规则中并没有对应的大写形式， 所以当含有它的标识符被转换为大写形式时它并不会被转变。

数据库字符集大写规则确保标识符在任何语言配置的会话中的样式是相同的。如果希望标识符在某种自然语言中看起来正确，那么可以通过引号来保留它的小写形式，或者在使用该标识符时使用对应语言上正确的大写形式。

### 列的名称 

同一表或视图中的列不能具有相同的名称。但是，不同表或视图中的列可以具有相同的名称。

### 程序和函数的名称 

如果同一包中的程序或函数所包含的参数的数量和数据类型不同，则它们可以具有相同的名称。在同一个包中使用不同的参数创建具有相同名称的多个过程或函数称为重载过程或函数。
